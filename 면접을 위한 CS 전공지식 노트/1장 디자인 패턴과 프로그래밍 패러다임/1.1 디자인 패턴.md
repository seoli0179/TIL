# 1.1 ë””ìì¸ íŒ¨í„´

# 1.1 ë””ìì¸ íŒ¨í„´

## 1.1.1 ì‹±ê¸€í†¤ íŒ¨í„´

<aside>
ğŸ·ï¸ ì‹±ê¸€í†¤ íŒ¨í„´(singleton pattern)ì€ í•˜ë‚˜ì˜ í´ë˜ìŠ¤ì— ì˜¤ì§ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë§Œ ê°€ì§€ëŠ” íŒ¨í„´
ë³´í†µ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° ëª¨ë“ˆì— ë§ì´ ì‚¬ìš©

</aside>

### ì¥ì 

í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ì–´ ë†“ê³  í•´ë‹¹ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë‹¤ë¥¸ ëª¨ë“ˆë“¤ì´ ê³µìœ í•˜ë©° ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì— ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•  ë•Œ ë“œëŠ” ë¹„ìš©ì´ ì¤„ì–´ë“ ë‹¤.

### ë‹¨ì 

1. TDD(Test Driven Development)ë¥¼ í•˜ê¸° í˜ë“¤ë‹¤.

- TDD ë‹¨ìœ„í…ŒìŠ¤íŠ¸ëŠ” ì„œë¡œ ë…ë¦½ì ì´ì–´ì•¼ í•˜ëŠ”ë° ì‹±ê¸€í†¤ íŒ¨í„´ì€ ë¯¸ë¦¬ ìƒì„±ëœ í•˜ë‚˜ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê¸°ë°˜ìœ¼ë¡œ êµ¬í˜„í•˜ëŠ” íŒ¨í„´ì´ë¯€ë¡œ ê° í…ŒìŠ¤íŠ¸ë§ˆë‹¤ â€˜ë…ë¦½ì ì¸â€™ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ê¸° ì–´ë µë‹¤.

2. ì˜ì¡´ì„±ì´ ë†’ë‹¤.  - [ì˜ì¡´ì„± ì£¼ì…ì´ë€?](https://www.notion.so/DI-Dependency-Injection-18e16072a65c438a9de5348b46b2e881?pvs=21)

### ìë°”ì˜ ì‹±ê¸€í†¤ íŒ¨í„´

```java
public class main {
    public static void main(String[] args) {
        Singleton a = Singleton.getInstance();
        Singleton b = Singleton.getInstance();
        System.out.println(a.hashCode());
        System.out.println(b.hashCode());
        if(a == b) {
            System.out.println(true);
        }
    }
}

class Singleton {
    
    private static class singleInstanceHolder {
        private static final Singleton INSTANCE = new Singleton();
    }

    public static synchronized Singleton getInstance() {
        return singleInstanceHolder.INSTANCE;
    }

}
```

### ê²°ê³¼
![Untitled](https://github.com/seoli0179/TIL/assets/105831105/dda07568-6107-4958-9143-7f604250872a)


## 1.1.2 íŒ©í† ë¦¬ íŒ¨í„´

> **íŒ©í† ë¦¬ ë©”ì†Œë“œ íŒ¨í„´**ì€ ê°ì²´ë¥¼ ì‚¬ìš©í•˜ëŠ” ì½”ë“œì—ì„œ ê°ì²´ ìƒì„± ë¶€ë¶„ì„ ë–¼ì–´ë‚´ ì¶”ìƒí™”í•œ íŒ¨í„´ì´ì, ìƒì† ê´€ê³„ì— ìˆëŠ” ë‘ í´ë˜ìŠ¤ì—ì„œ ìƒìœ„ í´ë˜ìŠ¤ê°€ ì¤‘ìš”í•œ ë¼ˆëŒ€ë¥¼ ê²°ì •í•˜ê³ , í•˜ìœ„ í´ë˜ìŠ¤ì—ì„œ ê°ì²´ ìƒì„±ì— ê´€í•œ êµ¬ì²´ì ì¸ ë‚´ìš©ì„ ê²°ì •í•˜ëŠ” íŒ¨í„´
> 

ì˜ˆë¡œ ë“¤ì–´ ë¼ë–¼ ë ˆì‹œí”¼ì™€ ì•„ë©”ë¦¬ì¹´ë…¸ ë ˆì‹œí”¼, ìš°ìœ  ë ˆì‹œí”¼ë¼ëŠ” êµ¬ì²´ì ì¸ ë‚´ìš©ì´ ë“¤ì–´ìˆëŠ” í•˜ìœ„ í´ë˜ìŠ¤ê°€ ì»¨ë² ì´ì–´ ë²¨íŠ¸ë¥¼ í†µí•´ ì „ë‹¬ë˜ê³ , ìƒìœ„ í´ë˜ìŠ¤ì¸ ë°”ë¦¬ìŠ¤íƒ€ ê³µì¥ì—ì„œ ì´ ë ˆì‹œí”¼ë“¤ì„ í† ëŒ€ë¡œ ìš°ìœ  ë“±ì„ ìƒì‚° ê³µì •ì„ ìƒê°í•˜ë©´ ëœë‹¤.

![ì œëª© ì—†ìŒ](https://github.com/seoli0179/TIL/assets/105831105/cad540d3-060b-440c-8423-c7d97571f26a)

```java
// tip: each public class is put in its own file
public class main
{
    // tip: arguments are passed via the field below this editor
    public static void main(String[] args)
    {
        Coffee latte = CoffeeFactory.getCoffee("Latte",4000);
        Coffee ame = CoffeeFactory.getCoffee("Americano",3000);
        System.out.println("Factory latte ::" + latte);
        System.out.println("Factory ame ::" + ame);
    }
}

abstract class Coffee {
    
    public abstract int getPrice();

    @Override
    public String toString() {
        return "Hi this coffee is " + this.getPrice();
    }

}

class CoffeeFactory {
    public static Coffee getCoffee(String type, int price) {
        if("Latte".equalsIgnoreCase(type)) return new Latte(price);
        else if("Americano".equalsIgnoreCase(type)) return new Americano(price);
        else{
            return new DefaultCoffee();
        }
    }
}

class DefaultCoffee extends Coffee {
    private int price;

    public DefaultCoffee() {
        this.price = -1;
    }

    @Override
    public int getPrice() {
        return this.price;
    }
}

class Latte extends Coffee {
    private int price;

    public Latte(int price) {
        this.price = price;
    }

    @Override
    public int getPrice() {
        return this.price;
    }
}

class Americano extends Coffee {
    private int price;

    public Americano(int price) {
        this.price = price;
    }

    @Override
    public int getPrice() {
        return this.price;
    }
}
```

![Untitled](https://github.com/seoli0179/TIL/assets/105831105/faabe1c8-d982-418a-a6d1-2b5c2bc907db)


CoffeeFactoryë¼ëŠ” ìƒìœ„ í´ë˜ìŠ¤ê°€ ì¤‘ìš”í•œ ë¼ˆëŒ€ë¥¼ ê²°ì •í•˜ê³  í•˜ìœ„ í´ë˜ìŠ¤ì¸ LatteFactoryê°€ êµ¬ì²´ì ì¸ ë‚´ìš©ì„ ê²°ì •í•˜ê³  ìˆë‹¤.

ì´ëŠ” ì˜ì¡´ì„± ì£¼ì…ì´ë¼ê³ ë„ í•  ìˆ˜ ìˆë‹¤. CoffeeFactoryì—ì„œ LatteFactoryì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ìƒì„±í•˜ëŠ” ê²ƒì´ ì•„ë‹Œ LatteFactoryì—ì„œ ìƒì„±í•œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ CoffeeFActoryì— ì£¼ì…í•˜ê³  ìˆê¸° ë•Œë¬¸ì´ë‹¤.

ë˜í•œ, CoffeeFactoryë¥¼ ë³´ë©´ staticìœ¼ë¡œ ë©”ì†Œë“œë¥¼ ì •ì˜í•œ ê²ƒì„ ì•Œ ìˆ˜ ìˆë“ ë°, ì •ì  ë©”ì†Œë“œë¥¼ ì“°ë©´ í´ë˜ìŠ¤ì˜ ì¸ìŠ¤í„´ìŠ¤ ì—†ì´ í˜¸ì¶œì´ ê°€ëŠ¥í•˜ì—¬ ë©”ëª¨ë¦¬ë¥¼ ì ˆì•½í•  ìˆ˜ ìˆê³  ê°œë³„ ì¸ìŠ¤í„´ìŠ¤ì— ë¬¶ì´ì§€ ì•Šìœ¼ë©°ã…‘ í´ë˜ìŠ¤ ë‚´ìœ¼ ã…£í•¨ìˆ˜ë¥¼ ì •ì˜í•  ìˆ˜ ìˆëŠ” ì¥ì ì´ ìˆë‹¤.

if (â€Latteâ€.equalsIgnoreCase(type))ì„ í†µí•´ ë¬¸ìì—´ ë¹„êµ ê¸°ë°˜ìœ¼ë¡œ ë¡œì§ì´ êµ¬ì„±ë¨ì„ ë³¼ ìˆ˜ ìˆëŠ”ë°, ì´ëŠ” Enum ë˜ëŠ” Mapì„ ì´ìš©í•˜ì—¬ ifë¬¸ì„ ì“°ì§€ ì•Šê³  ë§¤í•‘í•´ì„œ í•  ìˆ˜ë„ ìˆë‹¤.
